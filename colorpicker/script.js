(()=>{var t={180(t,r,n){var e=n(2350),o=n(7146),a=n(8319);t.exports=function(t){switch(e(t)){case"Object":return o(i=t)?a({},i):i;case"Array":return t.slice();case"RegExp":return n="",n+=(r=t).multiline?"m":"",n+=r.global?"g":"",n+=r.ignoreCase?"i":"",new RegExp(r.source,n);case"Date":return new Date(+t);default:return t}var r,n,i}},197(t,r,n){var e=n(780);t.exports=function(t,r){return e(t,function(t){return t===r})}},294(t,r,n){var e=n(6402),o=n(5082);t.exports=function(t,r){return e(o(t),r)}},370(t,r,n){var e=n(7814);t.exports=function(t,r){return void 0!==e(t,r)}},441(t,r,n){var e=n(927);t.exports=function(t,r){return-1!==e(t,r)}},700(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=n(9745),o=Math.sqrt,a=Math.pow,i=Math.exp,u=Math.log,c=Math.cos,s=Math.sin,f=Math.atan2,l={LCD:{K_L:.77,c_1:.007,c_2:.0053},SCD:{K_L:1.24,c_1:.007,c_2:.0363},UCS:{K_L:1,c_1:.007,c_2:.0228}};r.default=function(){var t=l[arguments.length<=0||void 0===arguments[0]?"UCS":arguments[0]],r=t.K_L,n=t.c_1,h=t.c_2;return{fromCam:function(t){var r=t.J,o=t.M,a=t.h,i=e.degree.toRadian(a),f=(1+100*n)*r/(1+n*r),l=1/h*u(1+h*o);return{J_p:f,a_p:l*c(i),b_p:l*s(i)}},toCam:function(t){var r=t.J_p,u=t.a_p,c=t.b_p,s=-r/(n*r-100*n-1),l=o(a(u,2)+a(c,2)),v=(i(h*l)-1)/h,p=f(c,u);return{J:s,M:v,h:e.degree.fromRadian(p)}},distance:function(t,n){return o(a((t.J_p-n.J_p)/r,2)+a(t.a_p-n.a_p,2)+a(t.b_p-n.b_p,2))}}},t.exports=r.default},780(t,r,n){var e=n(5513),o=n(7512);t.exports=function(t,r,n){r=o(r,n);var a=!1;return e(t,function(n,e){if(r(n,e,t))return a=!0,!1}),a}},927(t){t.exports=function(t,r,n){if(n=n||0,null==t)return-1;for(var e=t.length,o=n<0?e+n:n;o<e;){if(t[o]===r)return o;o++}return-1}},1049(t,r){"use strict";function n(t){return t[0][0]*(t[2][2]*t[1][1]-t[2][1]*t[1][2])+t[1][0]*(t[2][1]*t[0][2]-t[2][2]*t[0][1])+t[2][0]*(t[1][2]*t[0][1]-t[1][1]*t[0][2])}Object.defineProperty(r,"__esModule",{value:!0}),r.transpose=function(t){return[[t[0][0],t[1][0],t[2][0]],[t[0][1],t[1][1],t[2][1]],[t[0][2],t[1][2],t[2][2]]]},r.determinant=n,r.inverse=function(t){var r=1/n(t);return[[(t[2][2]*t[1][1]-t[2][1]*t[1][2])*r,(t[2][1]*t[0][2]-t[2][2]*t[0][1])*r,(t[1][2]*t[0][1]-t[1][1]*t[0][2])*r],[(t[2][0]*t[1][2]-t[2][2]*t[1][0])*r,(t[2][2]*t[0][0]-t[2][0]*t[0][2])*r,(t[1][0]*t[0][2]-t[1][2]*t[0][0])*r],[(t[2][1]*t[1][0]-t[2][0]*t[1][1])*r,(t[2][0]*t[0][1]-t[2][1]*t[0][0])*r,(t[1][1]*t[0][0]-t[1][0]*t[0][1])*r]]},r.multiply=function(t,r){return[t[0][0]*r[0]+t[0][1]*r[1]+t[0][2]*r[2],t[1][0]*r[0]+t[1][1]*r[1]+t[1][2]*r[2],t[2][0]*r[0]+t[2][1]*r[1]+t[2][2]*r[2]]},r.scalar=function(t,r){return[[t[0][0]*r[0],t[0][1]*r[1],t[0][2]*r[2]],[t[1][0]*r[0],t[1][1]*r[1],t[1][2]*r[2]],[t[2][0]*r[0],t[2][1]*r[1],t[2][2]*r[2]]]},r.product=function(t,r){return[[t[0][0]*r[0][0]+t[0][1]*r[1][0]+t[0][2]*r[2][0],t[0][0]*r[0][1]+t[0][1]*r[1][1]+t[0][2]*r[2][1],t[0][0]*r[0][2]+t[0][1]*r[1][2]+t[0][2]*r[2][2]],[t[1][0]*r[0][0]+t[1][1]*r[1][0]+t[1][2]*r[2][0],t[1][0]*r[0][1]+t[1][1]*r[1][1]+t[1][2]*r[2][1],t[1][0]*r[0][2]+t[1][1]*r[1][2]+t[1][2]*r[2][2]],[t[2][0]*r[0][0]+t[2][1]*r[1][0]+t[2][2]*r[2][0],t[2][0]*r[0][1]+t[2][1]*r[1][1]+t[2][2]*r[2][1],t[2][0]*r[0][2]+t[2][1]*r[1][2]+t[2][2]*r[2][2]]]}},1071(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=Math,e=n.pow,o=n.sign,a=n.abs,i={encode:function(t){return t<.001953125?16*t:e(t,1/1.8)},decode:function(t){return t<.03125?t/16:e(t,1.8)}};function u(t){return{decode:function(r){return o(r)*e(a(r),t)},encode:function(r){return o(r)*e(a(r),1/t)}}}var c={sRGB:{r:{x:.64,y:.33},g:{x:.3,y:.6},b:{x:.15,y:.06},gamma:{decode:function(t){return t<=.04045?t/12.92:e((t+.055)/1.055,2.4)},encode:function(t){return t<=.0031308?12.92*t:1.055*e(t,1/2.4)-.055}}},"Adobe RGB":{r:{x:.64,y:.33},g:{x:.21,y:.71},b:{x:.15,y:.06},gamma:u(2.2)},"Wide Gamut RGB":{r:{x:.7347,y:.2653},g:{x:.1152,y:.8264},b:{x:.1566,y:.0177},gamma:u(563/256)},"ProPhoto RGB":{r:{x:.7347,y:.2653},g:{x:.1596,y:.8404},b:{x:.0366,y:1e-4},gamma:i}};r.default=c,t.exports=r.default},1100(t){t.exports=function(t,r,n){var e=t.length;r=null==r?0:r<0?Math.max(e+r,0):Math.min(r,e),n=null==n?e:n<0?Math.max(e+n,0):Math.min(n,e);for(var o=[];r<n;)o.push(t[r++]);return o}},1161(t,r,n){var e=n(1100);t.exports=function(t,r){for(var n,o="string"!=typeof arguments[1]?arguments[1]:e(arguments,1),a={},i=0;n=o[i++];)a[n]=t[n];return a}},1209(t,r,n){var e=n(5513),o=n(7512);t.exports=function(t,r,n){r=o(r,n);var a=!0;return e(t,function(n,e){if(!r(n,e,t))return a=!1,!1}),a}},1307(t,r,n){var e=n(9520),o=n(4916);t.exports=function(t,r){return e(t,o(r))}},1390(t,r,n){var e=n(1100);t.exports=function(t,r,n){var o=e(arguments,2);return function(){return t.apply(r,o.concat(e(arguments)))}}},2341(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=Math.round;r.fromHex=function(t){return"#"==t[0]&&(t=t.slice(1)),t.length<6&&(t=t.split("").map(function(t){return t+t}).join("")),t.match(/../g).map(function(t){return parseInt(t,16)/255})},r.toHex=function(t){return"#"+t.map(function(t){return(t=n(255*t).toString(16)).length<2&&(t="0"+t),t}).join("")}},2350(t){var r=/^\[object (.*)\]$/,n=Object.prototype.toString;t.exports=function(t){return null===t?"Null":void 0===t?"Undefined":r.exec(n.call(t))[1]}},2468(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,r){var n=[],e=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(e=(i=u.next()).done)&&(n.push(i.value),!r||n.length!==r);e=!0);}catch(t){o=!0,a=t}finally{try{!e&&u.return&&u.return()}finally{if(o)throw a}}return n}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(9745),a=n(7075);r.default=function(t,r){var n=arguments.length<=2||void 0===arguments[2]?1e-6:arguments[2],i=-n,u=1+n,c=Math.min,s=Math.max,f=["000","fff"].map(function(n){return r.fromXyz(t.fromRgb(o.rgb.fromHex(n)))}),l=e(f,2),h=l[0],v=l[1];function p(n){var e=t.toRgb(r.toXyz(n));return[e.map(function(t){return t>=i&&t<=u}).reduce(function(t,r){return t&&r}),e]}return{contains:p,limit:function(t,r){for(var n=arguments.length<=2||void 0===arguments[2]?.001:arguments[2];(0,a.distance)(t,r)>n;){var o=(0,a.lerp)(t,r,.5),i=p(o);e(i,1)[0]?t=o:r=o}return t},spine:function(t){return(0,a.lerp)(h,v,t)},crop:function(t){return t.map(function(t){return s(i,c(u,t))})}}},t.exports=r.default},2515(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=(0,n(4337).map)({A:{x:.44758,y:.40745},C:{x:.31006,y:.31616},D50:{x:.34567,y:.35851},D65:{x:.31272,y:.32903},D55:{x:.33243,y:.34744},D75:{x:.29903,y:.31488}},function(t){return[t.x/t.y*100,100,100*(1-t.x-t.y)/t.y]});r.default=e,t.exports=r.default},2602(t,r,n){var e=n(3112),o=n(5254),a=n(9542);t.exports=function t(){var r,n,i,u,c=1;for(u=o(arguments[0]);i=arguments[c++];)for(r in i)e(i,r)&&(n=i[r],a(n)&&a(u[r])?u[r]=t(u[r],n):u[r]=o(n));return u}},2684(t){t.exports=function(t,r,n){if(null!=t)for(var e=-1,o=t.length;++e<o&&!1!==r.call(n,t[e],e,t););}},2975(t,r,n){var e=n(9690);t.exports=function(t){var r=[];return e(t,function(t,n){"function"==typeof t&&r.push(n)}),r.sort()}},2983(t,r,n){var e=n(5513);t.exports=function(t,r){var n=!0;return e(r,function(r,e){if(t[e]!==r)return n=!1}),n}},3016(t,r,n){var e=n(5548),o=n(5082);t.exports=function(t,r){return e(o(t),r)}},3025(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}(n(1049)),o=i(n(2515)),a=i(n(1071));function i(t){return t&&t.__esModule?t:{default:t}}r.default=function(){var t=arguments.length<=0||void 0===arguments[0]?a.default.sRGB:arguments[0],r=arguments.length<=1||void 0===arguments[1]?o.default.D65:arguments[1],n=[t.r,t.g,t.b],i=e.transpose(n.map(function(t){return[t.x/t.y,1,(1-t.x-t.y)/t.y]})),u=t.gamma,c=e.multiply(e.inverse(i),r),s=e.scalar(i,c),f=e.inverse(s);return{fromRgb:function(t){return e.multiply(s,t.map(u.decode))},toRgb:function(t){return e.multiply(f,t).map(u.encode)}}},t.exports=r.default},3112(t){t.exports=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)}},3333(t,r,n){var e=n(4645);t.exports=function(t,r){var n=t[r];if(void 0!==n)return e(n)?n.call(t):n}},3491(t,r){var n=[.95047,1,1.08883],e=6/29,o=Math.pow(29/6,2)/3,a=4/29,i=1/3,u=Math.pow(e,3),c=[[0,1.16,0],[5,-5,0],[0,2,-2]],s=[[.86206897,.2,0],[.86206897,0,0],[.86206897,0,-.5]],f=-.16;function l(t){return t<=u?o*t+a:Math.pow(t,i)}function h(t){return t<=e?(t-a)/o:Math.pow(t,3)}function v(t,r,n){n[0]=t[0][0]*r[0]+t[0][1]*r[1]+t[0][2]*r[2],n[1]=t[1][0]*r[0]+t[1][1]*r[1]+t[1][2]*r[2],n[2]=t[2][0]*r[0]+t[2][1]*r[1]+t[2][2]*r[2]}var p=.04045,d=12.92,m=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],g=[[.41239559,.35758343,.18049265],[.21258623,.7151703,.0722005],[.01929722,.11918386,.95049713]];function x(t,r){return t>1?(t=1,r[0]=!0):t<0&&(t=0,r[0]=!0),t<=p/d?d*t:1.055*Math.pow(t,1/2.4)-.055}function y(t,r){return t>1?t=1:t<0&&(t=0),t<=p?t/d:Math.pow((t+.055)/1.055,2.4)}r.srgbToCielab=function(t){var r=[0,0,0];!function(t,r){v(g,[y(t[0]),y(t[1]),y(t[2])],r)}(t,r);var e=[0,0,0];return function(t,r){var e=[l(t[0]/n[0]),l(t[1]/n[1]),l(t[2]/n[2])];v(c,e,r),r[0]+=f}(r,e),{value:e,inGamut:!0}},r.cielabToSrgb=function(t){var r=[0,0,0];!function(t,r){t[0]-=f,v(s,t,r),t[0]+=f,r[0]=h(r[0])*n[0],r[1]=h(r[1])*n[1],r[2]=h(r[2])*n[2]}(t,r);var e=[!1],o=[0,0,0];return function(t,r,n){v(m,t,r),r[0]=x(r[0],n),r[1]=x(r[1],n),r[2]=x(r[2],n)}(r,o,e),{value:o,inGamut:!e[0]}}},3695(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,r){var n=[],e=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(e=(i=u.next()).done)&&(n.push(i.value),!r||n.length!==r);e=!0);}catch(t){o=!0,a=t}finally{try{!e&&u.return&&u.return()}finally{if(o)throw a}}return n}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(7075),a=Math.floor,i=[{s:"R",h:20.14,e:.8,H:0},{s:"Y",h:90,e:.7,H:100},{s:"G",h:164.25,e:1,H:200},{s:"B",h:237.53,e:1.2,H:300},{s:"R",h:380.14,e:.8,H:400}],u=i.map(function(t){return t.s}).slice(0,-1).join(""),c={O:"RY",S:"YG",T:"G25B",C:"GB",A:"B25G",V:"B25R",M:"BR",P:"R25B"};r.fromHue=function(t){t<i[0].h&&(t+=360);for(var r=0;i[r+1].h<t;)r++;var n=(t-i[r].h)/i[r].e,e=(i[r+1].h-t)/i[r+1].e;return i[r].H+100*n/(n+e)},r.toHue=function(t){var r=a(t/100),n=t%100,o=i.slice(r,r+2),u=e(o,2),c=u[0],s=c.e,f=c.h,l=u[1],h=l.e;return(n*(h*f-s*l.h)-100*f*h)/(n*(h-s)-100*h)},r.fromNotation=function t(r){var n=r.match(/^([a-z])(?:(.+)?([a-z]))?$/i),a=e(n,4),i=a[1],s=a[2],f=a[3];void 0===f&&(f=i),void 0===s&&(s="50");var l=[i,f].map(function(r){r=r.toUpperCase();var n=c[r];return n?t(n):100*u.indexOf(r)}),h=e(l,2);return i=h[0],f=h[1],s=parseFloat(s)/100,(0,o.corLerp)(i,f,s,"H")},r.toNotation=function(t){var r=a(t/100),n=(r+1)%u.length,e=t-100*r;if(e>50){var o=[n,r];r=o[0],n=o[1],e=100-e}return e<1?u[r]:u[r]+e.toFixed()+u[n]}},3776(t,r,n){var e=n(5513),o=Object.keys||function(t){var r=[];return e(t,function(t,n){r.push(n)}),r};t.exports=o},3893(t,r,n){var e=n(5513),o=n(7146);function a(t,r){for(var n,o=0,a=arguments.length;++o<a;)(n=arguments[o])&&e(n,i,t);return t}function i(t,r){var n=this[r];o(t)&&o(n)?a(n,t):this[r]=t}t.exports=a},4337(t,r,n){t.exports={bindAll:n(8532),contains:n(197),deepFillIn:n(4988),deepMatches:n(5201),deepMixIn:n(3893),equals:n(7401),every:n(1209),fillIn:n(9622),filter:n(4534),find:n(7663),flatten:n(7768),forIn:n(9690),forOwn:n(5513),functions:n(2975),get:n(7814),has:n(370),hasOwn:n(3112),keys:n(3776),map:n(9520),matches:n(2983),max:n(3016),merge:n(2602),min:n(294),mixIn:n(8319),namespace:n(8793),omit:n(8081),pick:n(1161),pluck:n(1307),reduce:n(8334),reject:n(6087),result:n(3333),set:n(7306),size:n(8357),some:n(780),unset:n(9715),values:n(5082)}},4534(t,r,n){var e=n(5513),o=n(7512);t.exports=function(t,r,n){r=o(r,n);var a={};return e(t,function(t,n,e){r(t,n,e)&&(a[n]=t)}),a}},4604(t,r,n){var e=n(6367),o=Array.isArray||function(t){return e(t,"Array")};t.exports=o},4645(t,r,n){var e=n(6367);t.exports=function(t){return e(t,"Function")}},4916(t){t.exports=function(t){return function(r){return r[t]}}},4988(t,r,n){var e=n(5513),o=n(7146);t.exports=function t(r,n){for(var a,i=0,u=arguments.length;++i<u;)(a=arguments[i])&&e(a,function(n,e){var a=r[e];null==a?r[e]=n:o(a)&&o(n)&&t(a,n)});return r}},5082(t,r,n){var e=n(5513);t.exports=function(t){var r=[];return e(t,function(t,n){r.push(t)}),r}},5177(t){t.exports=function(t,r){return t===r?0!==t||1/t==1/r:t!=t&&r!=r}},5201(t,r,n){var e=n(5513),o=n(4604);function a(t,r){for(var n=-1,e=t.length;++n<e;)if(i(t[n],r))return!0;return!1}function i(t,r){return t&&"object"==typeof t?o(t)&&o(r)?function(t,r){for(var n=-1,e=r.length;++n<e;)if(!a(t,r[n]))return!1;return!0}(t,r):function(t,r){var n=!0;return e(r,function(r,e){if(!i(t[e],r))return n=!1}),n}(t,r):t===r}t.exports=i},5254(t,r,n){var e=n(180),o=n(5513),a=n(2350),i=n(7146);t.exports=function t(r,n){switch(a(r)){case"Object":return function(r,n){if(i(r)){var e={};return o(r,function(r,e){this[e]=t(r,n)},e),e}return n?n(r):r}(r,n);case"Array":return function(r,n){for(var e=[],o=-1,a=r.length;++o<a;)e[o]=t(r[o],n);return e}(r,n);default:return e(r)}}},5513(t,r,n){var e=n(3112),o=n(9690);t.exports=function(t,r,n){o(t,function(o,a){if(e(t,a))return r.call(n,t[a],a,t)})}},5548(t,r,n){var e=n(7512);t.exports=function(t,r,n){if(null!=t&&t.length){if(t.length&&!r)return Math.max.apply(Math,t);r=e(r,n);for(var o,a,i,u=-1/0,c=-1,s=t.length;++c<s;)(i=r(a=t[c],c,t))>u&&(u=i,o=a);return o}return 1/0}},5792(t){t.exports=function(t){switch(typeof t){case"string":case"number":case"boolean":return!0}return null==t}},6025(t,r,n){var e=n(7075),o=n(2468),a=n(8141),i=n(700),u=n(3695);t.exports={gamut:o,cfs:e.cfs,lerp:e.lerp,cam:a,ucs:i,hq:u}},6087(t,r,n){var e=n(4534),o=n(7512);t.exports=function(t,r,n){return r=o(r,n),e(t,function(t,n,e){return!r(t,n,e)},n)}},6367(t,r,n){var e=n(2350);t.exports=function(t,r){return e(t)===r}},6402(t,r,n){var e=n(7512);t.exports=function(t,r,n){if(null!=t&&t.length){if(t.length&&!r)return Math.min.apply(Math,t);r=e(r,n);for(var o,a,i,u=1/0,c=-1,s=t.length;++c<s;)(i=r(a=t[c],c,t))<u&&(u=i,o=a);return o}return-1/0}},6635(t){t.exports=function(t){return t}},7075(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=n(4337),o=Math.abs,a=Math.pow,i=Math.sqrt,u={h:360,H:400};function c(t,r,n,e){var a=u[e];return a&&o(t-r)>a/2&&(t>r?r+=a:t+=a),((1-n)*t+n*r)%(a||1/0)}r.corLerp=c,r.lerp=function(t,r,n){var e={};for(var o in t)e[o]=c(t[o],r[o],n,o);return e},r.distance=function(t,r){var n=0;for(var e in t)n+=a(t[e]-r[e],2);return i(n)},r.cfs=function(t){return e.merge.apply(void 0,function(t){if(Array.isArray(t)){for(var r=0,n=Array(t.length);r<t.length;r++)n[r]=t[r];return n}return Array.from(t)}(t.split("").map(function(t){return e=!0,(n=t)in(r={})?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r;var r,n,e})))}},7146(t){t.exports=function(t){return!!t&&"object"==typeof t&&t.constructor===Object}},7306(t,r,n){var e=n(8793);t.exports=function(t,r,n){var o=/^(.+)\.(.+)$/.exec(r);o?e(t,o[1])[o[2]]=n:t[r]=n}},7401(t,r,n){var e=n(3112),o=n(1209),a=n(9542),i=n(5177);function u(t,r){return e(this,r)}t.exports=function(t,r,n){return n=n||i,a(t)&&a(r)?o(t,function(t){return function(r,n){return e(this,n)&&t(r,this[n])}}(n),r)&&o(r,u,t):n(t,r)}},7512(t,r,n){var e=n(6635),o=n(4916),a=n(5201);t.exports=function(t,r){if(null==t)return e;switch(typeof t){case"function":return void 0!==r?function(n,e,o){return t.call(r,n,e,o)}:t;case"object":return function(r){return a(r,t)};case"string":case"number":return o(t)}}},7663(t,r,n){var e=n(780),o=n(7512);t.exports=function(t,r,n){var a;return r=o(r,n),e(t,function(t,n,e){if(r(t,n,e))return a=t,!0}),a}},7768(t,r,n){var e=n(5513),o=n(7146);function a(t,r,n,i){return e(t,function(t,e){var u=n?n+"."+e:e;0!==i&&o(t)?a(t,r,u,i-1):r[u]=t}),r}t.exports=function(t,r){return null==t?{}:a(t,{},"",r=null==r?-1:r)}},7814(t,r,n){n(5792),t.exports=function(t,r){for(var n=r.split("."),e=n.pop();r=n.shift();)if(null==(t=t[r]))return;return t[e]}},8081(t,r,n){var e=n(1100),o=n(441);t.exports=function(t,r){var n="string"!=typeof arguments[1]?arguments[1]:e(arguments,1),a={};for(var i in t)t.hasOwnProperty(i)&&!o(n,i)&&(a[i]=t[i]);return a}},8141(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,r){var n=[],e=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(e=(i=u.next()).done)&&(n.push(i.value),!r||n.length!==r);e=!0);}catch(t){o=!0,a=t}finally{try{!e&&u.return&&u.return()}finally{if(o)throw a}}return n}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(9745),a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}(n(3695)),i=n(7075),u=n(4337),c=Math.pow,s=Math.sqrt,f=Math.exp,l=Math.abs,h=Math.sign,v=Math.sin,p=Math.cos,d=Math.atan2,m={average:{F:1,c:.69,N_c:1},dim:{F:.9,c:.59,N_c:.9},dark:{F:.8,c:.535,N_c:.8}},g=[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],x=[[.38971,.68898,-.07868],[-.22981,1.1834,.04641],[0,0,1]],y=g,b=o.matrix.inverse(g),w=o.matrix.product(x,o.matrix.inverse(g)),M=o.matrix.product(g,o.matrix.inverse(x)),C={whitePoint:o.illuminant.D65,adaptingLuminance:40,backgroundLuminance:20,surroundType:"average",discounting:!1},_=(0,i.cfs)("QJMCshH"),S=(0,i.cfs)("JCh");r.default=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?_:arguments[1],n=(t=(0,u.merge)(C,t)).whitePoint,i=t.adaptingLuminance,x=t.backgroundLuminance,P=m[t.surroundType],k=P.F,I=P.c,j=P.N_c,L=n[1],O=1/(5*i+1),R=.2*c(O,4)*5*i+.1*c(1-c(O,4),2)*c(5*i,1/3),G=x/L,H=.725*c(1/G,.2),B=H,A=1.48+s(G),N=t.discounting?1:k*(1-1/3.6*f(-(i+42)/92)),F=o.matrix.multiply(g,n).map(function(t){return N*L/t+1-N}),E=e(F,3),J=E[0],D=E[1],T=E[2],z=X(W(q(n)));function q(t){var r=o.matrix.multiply(y,t),n=e(r,3),a=n[0],i=n[1],u=n[2];return[J*a,D*i,T*u]}function W(t){return o.matrix.multiply(w,t).map(function(t){var r=c(R*l(t)/100,.42);return 400*h(t)*r/(27.13+r)+.1})}function X(t){var r=e(t,3);return(2*r[0]+r[1]+r[2]/20-.305)*H}function Z(t){return 4/I*s(t/100)*(z+4)*c(R,.25)}function U(t){return t*c(R,.25)}function $(t,r){var n=r.Q,e=r.J,o=r.M,i=r.C,u=r.s,f=r.h,l=r.H,h={};return t.J&&(h.J=isNaN(e)?function(t){return 6.25*c(I*t/((z+4)*c(R,.25)),2)}(n):e),t.C&&(isNaN(i)?isNaN(o)?(n=isNaN(n)?Z(e):n,h.C=function(t,r){return c(t/100,2)*r/c(R,.25)}(u,n)):h.C=function(t){return t/c(R,.25)}(o):h.C=r.C),t.h&&(h.h=isNaN(f)?a.toHue(l):f),t.Q&&(h.Q=isNaN(n)?Z(e):n),t.M&&(h.M=isNaN(o)?U(i):o),t.s&&(isNaN(u)?(n=isNaN(n)?Z(e):n,o=isNaN(o)?U(i):o,h.s=function(t,r){return 100*s(t/r)}(o,n)):h.s=u),t.H&&(h.H=isNaN(l)?a.fromHue(f):l),h}return{fromXyz:function(t){var n=W(q(t)),a=e(n,3),i=a[0],u=a[1],f=a[2],l=i-12*u/11+f/11,h=(i+u-2*f)/9,v=d(h,l),m=o.degree.fromRadian(v),g=1/4*(p(v+2)+3.8),x=X(n),y=100*c(x/z,I*A),b=5e4/13*j*B*g*s(l*l+h*h)/(i+u+1.05*f),w=c(b,.9)*s(y/100)*c(1.64-c(.29,G),.73);return $(r,{J:y,C:w,h:m})},toXyz:function(t){var r,n,a,i,u,f,d,m,g=$(S,t),x=g.J,y=g.C,w=g.h,C=o.degree.toRadian(w),_=c(y/(s(x/100)*c(1.64-c(.29,G),.73)),10/9),P=1/4*(p(C+2)+3.8),k=z*c(x/100,1/I/A),L=5e4/13*j*B*P/_,O=k/H+.305,N=61*O/20*460/1403,F=671/1403,E=4.695652173913044,q=v(C),W=p(C);return 0===_||isNaN(_)?r=n=0:l(q)>=l(W)?r=(n=N/(L/q+F*W/q+E))*W/q:n=(r=N/(L/W+F+E*q/W))*q/W,m=[20/61*O+451/1403*r+288/1403*n,20/61*O-891/1403*r-261/1403*n,20/61*O-220/1403*r-6300/1403*n],a=o.matrix.multiply(M,m.map(function(t){var r=t-.1;return 100*h(r)/R*c(27.13*l(r)/(400-l(r)),1/.42)})),i=e(a,3),u=i[0],f=i[1],d=i[2],o.matrix.multiply(b,[u/J,f/D,d/T])},fillOut:$}},t.exports=r.default},8319(t,r,n){var e=n(5513);function o(t,r){this[r]=t}t.exports=function(t,r){for(var n,a=0,i=arguments.length;++a<i;)null!=(n=arguments[a])&&e(n,o,t);return t}},8334(t,r,n){var e=n(5513),o=n(8357);t.exports=function(t,r,n,a){var i=arguments.length>2;if(!o(t)&&!i)throw new Error("reduce of empty object with no initial value");return e(t,function(t,e,o){i?n=r.call(a,n,t,e,o):(n=t,i=!0)}),n}},8357(t,r,n){var e=n(5513);t.exports=function(t){var r=0;return e(t,function(){r++}),r}},8532(t,r,n){var e=n(2975),o=n(1390),a=n(2684),i=n(1100);t.exports=function(t,r){var n=arguments.length>1?i(arguments,1):e(t);a(n,function(r){t[r]=o(t[r],t)})}},8793(t,r,n){var e=n(2684);t.exports=function(t,r){return r?(e(r.split("."),function(r){t[r]||(t[r]={}),t=t[r]}),t):t}},9520(t,r,n){var e=n(5513),o=n(7512);t.exports=function(t,r,n){r=o(r,n);var a={};return e(t,function(t,n,e){a[n]=r(t,n,e)}),a}},9542(t,r,n){var e=n(6367);t.exports=function(t){return e(t,"Object")}},9596(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=Math.PI;r.fromRadian=function(t){for(var r=180*t/n;r<0;)r+=360;for(;r>360;)r-=360;return r},r.toRadian=function(t){for(var r=n*t/180;r<0;)r+=2*n;for(;r>2*n;)r-=2*n;return r}},9622(t,r,n){var e=n(2684),o=n(1100),a=n(5513);t.exports=function(t,r){return e(o(arguments,1),function(r){a(r,function(r,n){null==t[n]&&(t[n]=r)})}),t}},9690(t,r,n){var e,o,a=n(3112);function i(t,r,n,e){return t.call(e,r[n],n,r)}t.exports=function(t,r,n){var u,c=0;for(u in null==e&&function(){for(var t in o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=!0,{toString:null})e=!1}(),t)if(!1===i(r,t,u,n))break;if(e)for(var s=t.constructor,f=!!s&&t===s.prototype;(u=o[c++])&&("constructor"===u&&(f||!a(t,u))||t[u]===Object.prototype[u]||!1!==i(r,t,u,n)););}},9715(t,r,n){var e=n(370);t.exports=function(t,r){if(e(t,r)){for(var n=r.split("."),o=n.pop();r=n.shift();)t=t[r];return delete t[o]}return!0}},9745(t,r,n){var e=n(2515),o=n(1071),a=n(1049),i=n(9596),u=n(2341),c=n(3025);t.exports={illuminant:e,workspace:o,matrix:a,degree:i,rgb:u,xyz:c}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}(()=>{"use strict";var t=n(9745),r=n(6025),e=n(3491),o=r.cam({whitePoint:t.illuminant.D65,adaptingLuminance:40,backgroundLuminance:20,surroundType:"average",discounting:!1},r.cfs("JCh")),a=t.xyz(t.workspace.sRGB,t.illuminant.D65);function i(t,r){return r=String(r),Array(t-r.length+1).join("0")+r}function u(t,r){return"-"==(r=String(r))[0]?"-"+Array(t-r.length+2).join("0")+r.slice(1):"+"+Array(t-r.length+1).join("0")+r}function c(t){var r=100*t[0],n=100*Math.sqrt(t[1]*t[1]+t[2]*t[2]),e=180*Math.atan2(t[2],t[1])/Math.PI;return e<0&&(e+=360),[r,n,e]}function s(t){var r=t[1]/100,n=t[2]*Math.PI/180;return[t[0]/100,r*Math.cos(n),r*Math.sin(n)]}function f(t){var r=t[1],n=t[2],e=Math.atan2(n,r);return e<0&&(e+=2*Math.PI),[100*(1-Math.sqrt(r*r+n*n)),100*t[0],180*e/Math.PI]}function l(t,r){return[t[2],(2*t[0]-1)*r,(2*t[1]-1)*r]}function h(t,r){return[(t[1]/r+1)/2,(t[2]/r+1)/2,t[0]]}function v(t,r){return[r*t[2],2*t[0]-1,2*t[1]-1]}function p(t,r){return[(t[1]+1)/2,(t[2]+1)/2,t[0]/r]}function d(t){var r=!0;return t[0]<0?(r=!1,t[0]=0):t[0]>1&&(r=!1,t[0]=1),t[1]<0?(r=!1,t[1]=0):t[1]>1&&(r=!1,t[1]=1),t[2]<0?(r=!1,t[2]=0):t[2]>1&&(r=!1,t[2]=1),r}function m(t){var r;if(r=/(\d+)\s*,\s*(\d+)\s*,\s*(\d+)/.exec(t)){var n=[parseInt(r[1])/255,parseInt(r[2])/255,parseInt(r[3])/255];return d(n),n}return t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,r,n,e){return r+r+n+n+e+e}),(r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))?[parseInt(r[1],16)/255,parseInt(r[2],16)/255,parseInt(r[3],16)/255]:null}function g(t){return d(t=t.slice()),"#"+(16777216+(255*t[0]<<16|255*t[1]<<8|255*t[2])).toString(16).slice(1)}function x(t){return{value:t,inGamut:!0}}function y(t,r,n){t.beginPath(),t.arc(r/2,n/2,r/2,0,2*Math.PI),t.closePath(),t.clip()}var b={SRGB:{mask:function(t){},fromSrgb:x,toSrgb:x},LAB_HCL:{mask:y,display:function(t){return"(L="+i(3,(100*t[0]).toFixed(0))+", a="+u(3,(100*t[1]).toFixed(0))+", b="+u(3,(100*t[2]).toFixed(0))+")"},transform:l,untransform:h,toSrgb:e.cielabToSrgb,fromSrgb:e.srgbToCielab},LAB_HLC:{mask:y,display:function(t){var r=t[1],n=t[2],e=Math.sqrt(r*r+n*n),o=Math.atan2(n,r);return o<0&&(o+=2*Math.PI),"(H="+i(3,(o*=180/Math.PI).toFixed(0))+"°, C="+i(3,(100*t[0]).toFixed(0))+", L="+i(3,(100*(1-e)).toFixed(0))+")"},transform:v,untransform:p,toSrgb:function(t){var r,n=t[1],o=t[2],a=Math.sqrt(n*n+o*o);return r=a<1e-8?[1,0,0]:[1-a,t[0]*n/a,t[0]*o/a],e.cielabToSrgb(r)},fromSrgb:function(t){var r=e.srgbToCielab(t),n=r.value,o=1-n[0],a=Math.sqrt(n[1]*n[1]+n[2]*n[2]),i=[a,0,0];return a<1e-8?i[1]=o:(i[1]=n[1]/a*o,i[2]=n[2]/a*o),{value:i,inGamut:r.inGamut}}},CAM02_HCL:{mask:y,display:function(t){var r=c(t);return"(J="+i(3,r[0].toFixed(0))+", C="+i(3,r[1].toFixed(0))+", h="+i(3,r[2].toFixed(0))+"°)"},transform:l,untransform:h,toSrgb:function(t){var r=c(t);r={J:r[0],C:r[1],h:r[2]};var n=a.toRgb(o.toXyz(r));return{value:n,inGamut:d(n)}},fromSrgb:function(t){var r=o.fromXyz(a.fromRgb(t));return{value:s([r.J,r.C,r.h]),inGamut:!0}}},CAM02_HLC:{mask:y,display:function(t){var r=f(t);return"(J="+i(3,r[0].toFixed(0))+", C="+i(3,r[1].toFixed(0))+", h="+i(3,r[2].toFixed(0))+"°)"},transform:v,untransform:p,toSrgb:function(t){var r=f(t);r={J:r[0],C:r[1],h:r[2]};var n=a.toRgb(o.toXyz(r));return{value:n,inGamut:d(n)}},fromSrgb:function(t){var r=o.fromXyz(a.fromRgb(t)),n=1-r.J/100,e=r.h*Math.PI/180;return{value:[r.C/100,n*Math.cos(e),n*Math.sin(e)],inGamut:!0}}}};function w(){var t=this;function r(r){t.shift=r||function(){}}var n=r;r(),this.push=function(t){function e(){n=r}n(function(){return r(),e(),t}),n=function(t){e=r.bind(null,t)}}}function M(t,r){var n=[];this.workers=n;for(var e=0;e<r;++e)(function(){var r=new Worker(t),e=new w;r.onmessage=function(t){e.shift()(t.data)},n.push({worker:r,backlog:e})})();this.nextWorker=0}Object.defineProperty(M.prototype,"length",{get:function(){return this.workers.length}}),M.prototype.submit=function(t,r){var n=this.workers[this.nextWorker];n.backlog.push(r),n.worker.postMessage(t),this.nextWorker=(this.nextWorker+1)%this.workers.length};var C={cartesian:function(t,r,n,e,o,a,i){for(var u=b[i].transform,c=b[i].toSrgb,s=[0,0,a],f=new Uint8ClampedArray(4*t*(e-n)),l=n;l<e;++l){s[1]=1-l/r;for(var h=0;h<t;++h){s[0]=h/t;var v=c(u(s,o)),p=v.value;if(!v.inGamut){var d=(p[0]+p[1]+p[2])/3;p[0]=.5*p[0]+.5*d-.1,p[1]=.5*p[1]+.5*d-.1,p[2]=.5*p[2]+.5*d-.1}var m=4*(h+t*(l-n));f[m+0]=255*p[0],f[m+1]=255*p[1],f[m+2]=255*p[2],f[m+3]=255}}return f}};function _(t,r){this.ctx=t.getContext("2d"),this.width=t.width,this.height=t.height,this.img=this.ctx.createImageData(this.width,this.height),this.workerPool=r,this.colorState=new S("SRGB",[.65,.65,.65]),this.view="SRGB",this.maxChroma=.75,this.currentHash="",this.onsave=function(t){},this.ondraw=function(){},this.drawScheduled=!1,this.drawFull=!1,this.redraw(!0)}function S(t,r){this.set(t,r)}_.prototype.redraw=function(t){if(this.drawFull=this.drawFull||t,!this.drawScheduled){this.drawScheduled=!0;var r=this;window.requestAnimationFrame(function(){function t(){r.ondraw(),createImageBitmap(r.img).then(function(t){var n=r.ctx,e=r.getColor(),o=e[0]*r.width,a=(1-e[1])*r.height;n.clearRect(0,0,r.width,r.height),n.save(),b[r.view].mask(n,r.width,r.height),n.drawImage(t,0,0),n.restore(),n.strokeStyle="white",n.beginPath(),n.arc(o,a,4,0,2*Math.PI),n.stroke(),n.strokeStyle="black",n.beginPath(),n.arc(o,a,5,0,2*Math.PI),n.stroke()}),r.drawScheduled=!1,r.drawFull=!1}if(r.drawFull){console.time("redraw");for(var n=r.getColorInpZ(),e=Math.round(r.height/r.workerPool.length),o=0,a=0;a<r.height;a+=e){var i=a+e;i>r.height&&(i=r.height),o+=1,r.workerPool.submit({call:"cartesian",args:[r.width,r.height,a,i,r.maxChroma,n,r.view]},function(n){return function(e){r.img.data.set(e,4*r.width*n),0==(o-=1)&&(console.timeEnd("redraw"),t())}}(a))}}else t()})}},_.prototype.getColor=function(){return b[this.view].untransform(this.colorState.get(this.view).value,this.maxChroma)},_.prototype.setColor=function(t){var r=this.getColorInpZ();this.colorState.set(this.view,b[this.view].transform(t,this.maxChroma)),this.redraw(r!=t[2])},_.prototype.getColorInpZ=function(){return this.getColor()[2]},_.prototype.setColorInpZ=function(t){var r=this.getColor().slice();r[2]=t,this.setColor(r)},_.prototype.getColorDisplay=function(){return b[this.view].display(this.colorState.get(this.view).value)},_.prototype.getTextColor=function(){var t=this.colorState.get("SRGB").value;return{hex:g(t),rgb:"rgb("+(255*t[0]).toFixed(0)+", "+(255*t[1]).toFixed(0)+", "+(255*t[2]).toFixed(0)+")"}},_.prototype.saveTextColor=function(t){var r=m(t);null!=r&&(this.colorState.set("SRGB",r),this.save(),this.redraw(!0))},_.prototype.setView=function(t){this.view=t,this.redraw(!0)},_.prototype.setMaxChromaPercent=function(t){this.maxChroma=Number(t)/100,this.redraw(!0)},_.prototype.restore=function(t){if(t!=this.currentHash){var r=m(t);null!=r&&(this.currentHash=t,this.colorState.set("SRGB",r),this.redraw(!0))}},_.prototype.save=function(){this.currentHash=this.colorState.save(),this.onsave(this.currentHash)},S.prototype.get=function(t){if(this.view==t)return{value:this.color,inGamut:!0};var r=b[this.view].toSrgb(this.color),n=b[t].fromSrgb(r.value);return{value:n.value,inGamut:r.inGamut&&n.inGamut}},S.prototype.set=function(t,r,n){this.view=t,this.color=r},S.prototype.save=function(){return g(this.get("SRGB").value)},function(){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope)onmessage=function(t){postMessage(C[t.data.call].apply(null,t.data.args))};else{var t=new M("script.js",navigator.hardwareConcurrency||4),r=document.getElementById("canvas");r.width=400,r.height=400;var n=new _(r,t);n.onsave=function(t){window.location.hash=t},window.addEventListener("hashchange",function(){n.restore(window.location.hash)}),n.restore(window.location.hash);var e=document.getElementById("slider"),o=document.getElementById("color");e.addEventListener("input",function(t){n.setColorInpZ(e.value/e.max)}),e.addEventListener("change",function(t){n.save()}),o.addEventListener("blur",function(t){n.saveTextColor(this.value)}),o.addEventListener("keydown",function(t){"Enter"==t.key&&n.saveTextColor(this.value)}),n.ondraw=function(){e.value=n.getColorInpZ()*e.max,document.getElementById("display").textContent=n.getColorDisplay();var t=n.getTextColor();o.value=t.hex,document.getElementById("preview").style.backgroundColor=t.hex,document.getElementById("display-rgb").textContent=t.rgb};var a=!1;r.addEventListener("mousedown",function(t){1&t.buttons&&(t.preventDefault(),a=!0,u(t))}),r.addEventListener("mousemove",function(t){a&&(t.preventDefault(),u(t))}),r.addEventListener("mouseup",function(t){t.preventDefault(),n.save(),a=!1});var i=document.getElementById("max-chroma");n.setMaxChromaPercent(i.value),i.addEventListener("input",function(t){n.setMaxChromaPercent(this.value)}),["LAB_HCL","LAB_HLC","CAM02_HCL","CAM02_HLC"].forEach(function(t){var r="view-"+t.replace("_","-").toLowerCase(),e=document.getElementById(r);e.checked&&n.setView(t),e.addEventListener("change",function(r){n.setView(t)})})}function u(t){n.setColor([t.offsetX/r.clientWidth,1-t.offsetY/r.clientHeight,e.value/e.max])}}()})()})();
//# sourceMappingURL=script.js.map