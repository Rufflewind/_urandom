<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, user-scalable=no"/>
    <title>Angular momentum diagram editor</title>
    <link rel="stylesheet" href="style.css"/>
  </head>
  <body>
    <main>
      <div id="help">
        <h1>Angular momentum diagram tool (alpha version)</h1>
        <p><em id="notice"></em></p>
        <p id="controls">
          <b title="Create Wigner 3-jm symbol">&nbsp;w</b>
          <b title="Create Clebsch&ndash;Gordan coefficient">&nbsp;c</b>
          <b title="Create Wigner 1-jm symbol">&nbsp;m</b>
          <b title="Create 2j phase factor on a line, or flip a Wigner 3-jm node">&nbsp;j</b>
          <b title="Attach two lines">&nbsp;a</b>
          <b title="Delete">&nbsp;x</b>
          <b id="freeze" title="Freeze/Unfreeze diagram">&nbsp;f</b>
          <b title="Reset and reload page"><a href="#">&nbsp;r</a></b>
          <b title="Help"><a href="help.html">&nbsp;?</a></b>
        </p>
      </div>
      <div id="middle-container">
        <div id="middle-wrapper">
          <div id="diagram-container">
            <svg id="diagram" class="svg-content">
              <symbol id="arrowhead" viewBox="0 0 100 100">
                <path d="M 100,50 L 20,10 C -4.0,-2.0 20,34.0 20,50 C 20,66.0 -4.0,102.0 20,90 z"/>
              </symbol>
              <symbol id="clockwise" viewBox="-19 -19 38 38">
                <path aria-label="circular arrow" transform="scale(1,-1)" d="m 8.2471012,8.29503 q -1.7783211,1.70257 -3.7835148,2.55385 -2.0430737,0.87164 -4.464458,0.87164 -2.51596191992,0 -4.4645,-0.87164 -2.1941861,-0.98571 -3.7835149,-2.55385 -1.6838245,-1.6822 -2.591719,-3.82058 -0.870017,-2.11802 -0.870017,-4.52116 0,-2.32574 0.870017,-4.4458 0.9078945,-2.13839 2.591719,-3.82058 1.6646814,-1.64553 3.7835149,-2.55384 2.0430736,-0.87165 4.46449851992,-0.87165 2.515962,0 4.464458,0.87165 2.1941862,0.98569 3.7835148,2.55384 1.6838263,1.68219 2.5917248,3.82058 0.681025,1.6659 0.832545,3.48251 l 4.407719,-4.40751 2.269946,2.26873 -7.45339,7.45338 H 9.1930817 l -7.4155504,-7.45338 2.2699459,-2.26873 4.3888202,4.42666 q -0.1344128,-1.19342 -0.5673847,-2.26873 -0.6244082,-1.53148 -1.8728174,-2.78193 -1.1351767,-1.11604 -2.7619781,-1.85326 -1.399929,-0.6232 -3.19698643,-0.6232 -1.79705757,0 -3.27274667,0.6232 -1.5510414,0.66391 -2.761978,1.85326 -1.2105296,1.20971 -1.872817,2.78193 -0.6244085,1.53149 -0.6244085,3.21777 0,1.75959 0.6244085,3.29108 0.6244083,1.53148 1.872817,2.78192 1.1351766,1.11604 2.761978,1.85327 1.3999291,0.62319 3.19698663,0.62319 1.79705757,0 3.27274647,-0.62319 1.5510416,-0.66392 2.7619781,-1.85327 z"/>
              </symbol>
              <g id="diagram-main">
                <g id="diagram-lines"></g>
                <g id="diagram-nodes"></g>
              </g>
              <g id="diagram-track"></g>
            </svg>
          </div>
          <div id="tableau-container">
            <div id="tableau-wrapper">
              <table id="tableau">
                <thead class="header">
                  <tr>
                    <th class="summed"></th>
                    <th class="name"><var>j</var></th>
                    <th class="phase">(&minus;1)<sup><var>j</var></sup></th>
                    <th class="weight">&radic;(2 <var>j</var> + 1)<sup></th>
                  </tr>
                </thead>
                <tbody id="tableau-body" class="main"></tbody>
              </table>
              <ul id="delta-tableau"></ul>
            </div>
          </div>
        </div>
      </div>
      <div id="equation-container">
        <div id="equation" title="Equation (click to refresh)">&#128432;</div>
      </div>
    </main>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script src="script.js"></script>
    <script>main()</script>
  </body>
</html>
