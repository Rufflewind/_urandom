# documentation uploader

typical usage in a Makefile:

```make
doc:
	. doc-upload.sh && doc_init dist/doc
	doxygen
doc-upload: doc
	. doc-upload.sh && doc_upload dist/doc
```

script:

```sh
# create and initialize the documentation directory
#
#   - 1:  directory of the documentation
#
doc_init() {

    if [ $# -ne 1 ]
    then
        echo >&2 'doc_upload_init: expected 1 argument'
        return 1
    fi
    [ -d "$1/.git" ] || (
        mkdir -p "$1"
        url=`git remote -v | grep origin | awk '{ printf "%s", $2; exit }'`
        cd "$1"
        git init
        git config user.name Bot
        git config user.email "<>"
        git commit -m _ --allow-empty
        git remote add origin "$url"
    )
}

# upload documentation to the remote server
#
#   - 1:  directory of the documentation
#
doc_upload() {
    if [ $# -ne 1 ]
    then
        echo >&2 'doc_upload: expected 1 argument'
        return 1
    fi
    cd "$1"
    git add -A
    git commit --amend -q -m Autogenerated
    git push -f origin master:gh-pages
}
```
